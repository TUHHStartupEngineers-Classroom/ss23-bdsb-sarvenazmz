{
  "hash": "7b41f1ffce41b656a6e89a4cb7b40747",
  "result": {
    "markdown": "---\ntitle: \"Data Wrangling\"\nauthor: \"Sarvenaz Mostafazadeh\"\n---\n\n\n# Data Wrangling Challenge-1\n\n\n::: {.cell hash='03_data_wrangling_cache/html/unnamed-chunk-1_8e090fb2ebe6264a59755887abad7eed'}\n\n```{.r .cell-code}\n##----.libraries----\nlibrary(data.table)\nlibrary(dplyr)\n\n##----1.Read and combining the data----\npatent_assignee_file <- \"C:/Users/mosta/Desktop/3/Patent_data_reduced/patent_assignee.tsv\"\nassignee_file <- \"C:/Users/mosta/Desktop/3/Patent_data_reduced/assignee.tsv\"\npatent_assignee_data <- fread(patent_assignee_file)\nassignee_data <- fread(assignee_file)\ncombined_data <- merge(patent_assignee_data, assignee_data, by.x = \"assignee_id\", by.y = \"id\")\n\n##----2.Count the number of patents granted to each US company----\nus_company_patents <- combined_data %>%\n  filter(type == 2) %>%\n  group_by(organization) %>%\n  summarize(patent_count = n()) %>%\n  ungroup() %>%\n  arrange(desc(patent_count))\n\n#----3.List the top 10 US companies with the most new granted patents----\ntop_10_companies <- head(us_company_patents, 10)\nprint(top_10_companies)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> # A tibble: 10 Ã— 2\n#>    organization                                patent_count\n#>    <chr>                                              <int>\n#>  1 International Business Machines Corporation         7547\n#>  2 Microsoft Corporation                               3165\n#>  3 Google Inc.                                         2668\n#>  4 QUALCOMM Incorporated                               2597\n#>  5 Apple Inc.                                          2201\n#>  6 General Electric Company                            1873\n#>  7 Hewlett-Packard Development Company, L.P.           1638\n#>  8 AT&T INTELLECTUAL PROPERTY I, L.P.                  1625\n#>  9 Intel Corporation                                   1616\n#> 10 GM Global Technology Operations LLC                 1533\n```\n:::\n:::\n\n\n# Data Wrangling Challenge-2\n\n\n::: {.cell hash='03_data_wrangling_cache/html/unnamed-chunk-2_b8302a6a1cd002719b1acd9323c5aa11'}\n\n```{.r .cell-code}\n##----.libraries----\nlibrary(data.table)\nlibrary(dplyr)\n\n##----1.Read the data----\npatent_file <- \"C:/Users/mosta/Desktop/3/Patent_data_reduced/patent.tsv\"\npatent_assignee_file <- \"C:/Users/mosta/Desktop/3/Patent_data_reduced/patent_assignee.tsv\"\nassignee_file <- \"C:/Users/mosta/Desktop/3/Patent_data_reduced/assignee.tsv\"\npatent_data <- fread(patent_file)\npatent_assignee_data <- fread(patent_assignee_file)\nassignee_data <- fread(assignee_file)\n\n##----2.Jcombine and filter the data to get the assignee information for August 2014 patents----\naugust_patents <- patent_data[month(date) == 8 & year(date) == 2014]\ncombined_data <- merge(merge(august_patents, patent_assignee_data, by.x = \"id\", by.y = \"patent_id\", all.x = TRUE),\n                       assignee_data, by.x = \"assignee_id\", by.y = \"id\", all.x = TRUE)\n\n##----3.Count the number of patents granted to each US company in August 2014----\nus_company_patents <- combined_data %>%\n  filter(type == 2) %>%\n  group_by(organization) %>%\n  summarize(patent_count = n()) %>%\n  ungroup() %>%\n  arrange(desc(patent_count))\n\n#----4.List the top 10 US companies with the most new granted patents for August 2014----\ntop_10_companies <- head(us_company_patents, 10)\ntop_10_companies\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"organization\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"patent_count\"],\"name\":[2],\"type\":[\"int\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"International Business Machines Corporation\",\"2\":\"718\"},{\"1\":\"Microsoft Corporation\",\"2\":\"337\"},{\"1\":\"Google Inc.\",\"2\":\"240\"},{\"1\":\"QUALCOMM Incorporated\",\"2\":\"223\"},{\"1\":\"Apple Inc.\",\"2\":\"222\"},{\"1\":\"Intel Corporation\",\"2\":\"159\"},{\"1\":\"General Electric Company\",\"2\":\"148\"},{\"1\":\"AT&T INTELLECTUAL PROPERTY I, L.P.\",\"2\":\"146\"},{\"1\":\"Hewlett-Packard Development Company, L.P.\",\"2\":\"140\"},{\"1\":\"GM Global Technology Operations LLC\",\"2\":\"138\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n# Data Wrangling Challenge-3\n\n\n::: {.cell hash='03_data_wrangling_cache/html/unnamed-chunk-3_b36fdf355840b43a7cdac3f7df4972a4'}\n\n```{.r .cell-code}\n##----.libraries----\nlibrary(data.table)\nlibrary(dplyr)\n\n##----1.Read and combine the data----\npatent_assignee_file <- \"C:/Users/mosta/Desktop/3/Patent_data_reduced/patent_assignee.tsv\"\nassignee_file <- \"C:/Users/mosta/Desktop/3/Patent_data_reduced/assignee.tsv\"\nuspc_file <- \"C:/Users/mosta/Desktop/3/Patent_data_reduced/uspc.tsv\"\npatent_assignee_data <- fread(patent_assignee_file)\nassignee_data <- fread(assignee_file)\nuspc_data <- fread(uspc_file)\ncombined_data <- merge(patent_assignee_data, assignee_data, by.x = \"assignee_id\", by.y = \"id\")\n\n##----2.Count the number of patents granted to each company worldwide----\ncompany_patents <- combined_data %>%\nfilter(!(is.na(organization))) %>%\ngroup_by(organization) %>%\nsummarize(patent_count = n()) %>%\nungroup() %>%\narrange(desc(patent_count))\n\n##----3.The top 10 companies with the most patents----\ntop_10_companies <- head(company_patents, 10)$organization\ntop_10_companies\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#>  [1] \"International Business Machines Corporation\"\n#>  [2] \"Samsung Electronics Co., Ltd.\"              \n#>  [3] \"Canon Kabushiki Kaisha\"                     \n#>  [4] \"Sony Corporation\"                           \n#>  [5] \"Microsoft Corporation\"                      \n#>  [6] \"Google Inc.\"                                \n#>  [7] \"Kabushiki Kaisha Toshiba\"                   \n#>  [8] \"QUALCOMM Incorporated\"                      \n#>  [9] \"LG Electronics Inc.\"                        \n#> [10] \"Panasonic Corporation\"\n```\n:::\n\n```{.r .cell-code}\n##----4.Filter the combined_data for the top 10 companies----\nfiltered_data <- combined_data[organization %in% top_10_companies]\n\n##----5.Join the filtered_data with the uspc table----\nfiltered_uspc <- merge(filtered_data, uspc_data, by.x = \"patent_id\", by.y = \"patent_id\")\n\n##----6.Count the occurrences of each main class for the top companies----\ntop_main_classes <- filtered_uspc %>%\n  group_by(mainclass_id) %>%\n  summarize(occurrences = n()) %>%\n  arrange(desc(occurrences)) %>%\n  head(5)\n\ntop_main_classes\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"mainclass_id\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"occurrences\"],\"name\":[2],\"type\":[\"int\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"257\",\"2\":\"7979\"},{\"1\":\"455\",\"2\":\"6191\"},{\"1\":\"370\",\"2\":\"5483\"},{\"1\":\"348\",\"2\":\"4113\"},{\"1\":\"709\",\"2\":\"4018\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}