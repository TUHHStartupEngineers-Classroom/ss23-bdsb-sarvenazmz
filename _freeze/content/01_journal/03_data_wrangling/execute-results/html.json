{
  "hash": "8b5ca5624a404e46913a360bf7bb8dad",
  "result": {
    "markdown": "---\ntitle: \"Data Wrangling\"\nauthor: \"Sarvenaz Mostafazadeh\"\n---\n\n\n# Data Wrangling Challenge-1\n\n\n::: {.cell hash='03_data_wrangling_cache/html/unnamed-chunk-1_62784b1c932aeaa2fc40500d2cd52ef6'}\n\n```{.r .cell-code}\n##----.libraries----\nlibrary(data.table)\nlibrary(dplyr)\n\n##----1.Set the file paths----\npatent_assignee_file <- \"C:/Users/mosta/Desktop/3/Patent_data_reduced/patent_assignee.tsv\"\nassignee_file <- \"C:/Users/mosta/Desktop/3/Patent_data_reduced/assignee.tsv\"\n\n##----2.Read the patent_assignee data----\npatent_assignee_data <- fread(patent_assignee_file)\n\n##----3.Read the assignee data----\nassignee_data <- fread(assignee_file)\n\n##----4.Join the tables----\ncombined_data <- merge(patent_assignee_data, assignee_data, by.x = \"assignee_id\", by.y = \"id\")\n\n##----5.Count the number of patents granted to each US company----\nus_company_patents <- combined_data %>%\nfilter(type == 2) %>%\ngroup_by(organization) %>%\nsummarize(patent_count = n()) %>%\nungroup() %>%\narrange(desc(patent_count))\n\n#----6.List the top 10 US companies with the most new granted patents----\ntop_10_companies <- head(us_company_patents, 10)\ntop_10_companies\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"organization\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"patent_count\"],\"name\":[2],\"type\":[\"int\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"International Business Machines Corporation\",\"2\":\"7547\"},{\"1\":\"Microsoft Corporation\",\"2\":\"3165\"},{\"1\":\"Google Inc.\",\"2\":\"2668\"},{\"1\":\"QUALCOMM Incorporated\",\"2\":\"2597\"},{\"1\":\"Apple Inc.\",\"2\":\"2201\"},{\"1\":\"General Electric Company\",\"2\":\"1873\"},{\"1\":\"Hewlett-Packard Development Company, L.P.\",\"2\":\"1638\"},{\"1\":\"AT&T INTELLECTUAL PROPERTY I, L.P.\",\"2\":\"1625\"},{\"1\":\"Intel Corporation\",\"2\":\"1616\"},{\"1\":\"GM Global Technology Operations LLC\",\"2\":\"1533\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n# Data Wrangling Challenge-2\n\n\n::: {.cell hash='03_data_wrangling_cache/html/unnamed-chunk-2_a0e886008a86becbbd518191dd3daf6f'}\n\n```{.r .cell-code}\n##----.libraries----\nlibrary(data.table)\nlibrary(dplyr)\n\n##----1.Set the file paths----\npatent_file <- \"C:/Users/mosta/Desktop/3/Patent_data_reduced/patent.tsv\"\npatent_assignee_file <- \"C:/Users/mosta/Desktop/3/Patent_data_reduced/patent_assignee.tsv\"\nassignee_file <- \"C:/Users/mosta/Desktop/3/Patent_data_reduced/assignee.tsv\"\n\n##----2.Read the patent data----\npatent_data <- fread(patent_file)\n\n##----3.Filter the patent data for August 2014----\naugust_patents <- patent_data[month(date) == 8 & year(date) == 2014]\n\n##----4.Read the patent_assignee data----\npatent_assignee_data <- fread(patent_assignee_file)\n\n##----5.Read the assignee data----\nassignee_data <- fread(assignee_file)\n\n##----6.Join the tables to get the assignee information for August 2014 patents----\ncombined_data <- merge(merge(august_patents, patent_assignee_data, by.x = \"id\", by.y = \"patent_id\", all.x = TRUE),\n                       assignee_data, by.x = \"assignee_id\", by.y = \"id\", all.x = TRUE)\n\n##----7.Count the number of patents granted to each US company in August 2014----\nus_company_patents <- combined_data %>%\nfilter(type == 2) %>%\ngroup_by(organization) %>%\nsummarize(patent_count = n()) %>%\nungroup() %>%\narrange(desc(patent_count))\n\n#----8.List the top 10 US companies with the most new granted patents for August 2014----\ntop_10_companies <- head(us_company_patents, 10)\ntop_10_companies\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"organization\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"patent_count\"],\"name\":[2],\"type\":[\"int\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"International Business Machines Corporation\",\"2\":\"718\"},{\"1\":\"Microsoft Corporation\",\"2\":\"337\"},{\"1\":\"Google Inc.\",\"2\":\"240\"},{\"1\":\"QUALCOMM Incorporated\",\"2\":\"223\"},{\"1\":\"Apple Inc.\",\"2\":\"222\"},{\"1\":\"Intel Corporation\",\"2\":\"159\"},{\"1\":\"General Electric Company\",\"2\":\"148\"},{\"1\":\"AT&T INTELLECTUAL PROPERTY I, L.P.\",\"2\":\"146\"},{\"1\":\"Hewlett-Packard Development Company, L.P.\",\"2\":\"140\"},{\"1\":\"GM Global Technology Operations LLC\",\"2\":\"138\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n# Data Wrangling Challenge-3\n\n\n::: {.cell hash='03_data_wrangling_cache/html/unnamed-chunk-3_c1e1599bf3caf105186a29ee7726b7aa'}\n\n```{.r .cell-code}\n##----.libraries----\nlibrary(data.table)\nlibrary(dplyr)\n\n##----1.Set the file paths----\npatent_assignee_file <- \"C:/Users/mosta/Desktop/3/Patent_data_reduced/patent_assignee.tsv\"\nassignee_file <- \"C:/Users/mosta/Desktop/3/Patent_data_reduced/assignee.tsv\"\nuspc_file <- \"C:/Users/mosta/Desktop/3/Patent_data_reduced/uspc.tsv\"\n\n##----2.Read the patent_assignee data----\npatent_assignee_data <- fread(patent_assignee_file)\n\n##----3.Read the assignee data----\nassignee_data <- fread(assignee_file)\n\n##----4.Read the uspc data----\nuspc_data <- fread(uspc_file)\n\n##----5.Join the tables----\ncombined_data <- merge(patent_assignee_data, assignee_data, by.x = \"assignee_id\", by.y = \"id\")\n\n##----6.Count the number of patents granted to each company worldwide----\ncompany_patents <- combined_data %>%\ngroup_by(organization) %>%\nsummarize(patent_count = n()) %>%\nungroup() %>%\narrange(desc(patent_count))\n\n##----7.Get the top 10 companies with the most patents----\ntop_10_companies <- head(company_patents, 10)$organization\n\n##----8.Filter the combined_data for the top 10 companies----\nfiltered_data <- combined_data[organization %in% top_10_companies]\n\n##----9.Join the filtered_data with the uspc table----\nfiltered_uspc <- merge(filtered_data, uspc_data, by.x = \"patent_id\", by.y = \"patent_id\")\n\n##----10.Count the occurrences of each main class for the top companies----\ntop_main_classes <- filtered_uspc %>%\n  group_by(mainclass_id) %>%\n  summarize(number_of_incidents = n()) %>%\n  arrange(desc(number_of_incidents)) %>%\n  head(5)\n\ntop_main_classes\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"mainclass_id\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"number_of_incidents\"],\"name\":[2],\"type\":[\"int\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"257\",\"2\":\"7396\"},{\"1\":\"455\",\"2\":\"6119\"},{\"1\":\"370\",\"2\":\"5293\"},{\"1\":\"709\",\"2\":\"4014\"},{\"1\":\"348\",\"2\":\"3796\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}